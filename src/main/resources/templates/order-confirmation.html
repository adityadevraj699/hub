<!DOCTYPE html>
<html lang="en" th:replace="base :: layout(~{::section})">
<section style="position: relative; background: #f4f6f8; min-height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden;">

  <!-- Full-screen Confetti -->
  <div class="confetti"></div>

  <!-- Celebration Card (Transparent + Blur) -->
  <div class="text-center p-5 card rounded-4 animate-card" 
       style="z-index: 10; position: relative; background: rgba(255, 255, 255, 0.0); backdrop-filter: blur(0px); border: none;">
    
    <h1 class="text-success mb-3 display-3 fw-bold animate-heading">ðŸŽ‰ Order Placed Successfully!</h1>
    <p class="mb-1 fs-5">Your Order ID: <strong th:text="${order.id}"></strong></p>
    <p class="mb-1 fs-5">Total: <strong>$<span th:text="${order.totalPrice}"></span></strong></p>
    <p class="mb-4 fs-5">Status: <strong th:text="${order.status}"></strong></p>

    <div class="d-flex justify-content-center gap-3">
      <a th:href="@{/order/history}" class="btn btn-outline-primary btn-lg animate-btn">
        <i class="bi bi-card-list me-1"></i> View Order History
      </a>
      <a th:href="@{/products}" class="btn btn-success btn-lg animate-btn">
        <i class="bi bi-cart me-1"></i> Continue Shopping
      </a>
    </div>
  </div>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  
  <style>
    /* ---------- Confetti ---------- */
    .confetti span {
      position: absolute;
      display: block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      opacity: 0.9;
      animation: confetti-fall 3s linear infinite;
    }

    @keyframes confetti-fall {
      0% { transform: translateY(-20px) rotate(0deg); opacity:1;}
      100% { transform: translateY(110vh) rotate(360deg); opacity:0;}
    }

    /* ---------- Card Animation ---------- */
    .animate-card {
      animation: fadeInScale 0.8s ease forwards;
    }
    @keyframes fadeInScale {
      0% { opacity: 0; transform: scale(0.8);}
      100% { opacity: 1; transform: scale(1);}
    }

    /* ---------- Heading Animation ---------- */
    .animate-heading {
      animation: bounceIn 1s ease;
    }
    @keyframes bounceIn {
      0% { transform: scale(0.5); opacity: 0;}
      60% { transform: scale(1.2); opacity: 1;}
      80% { transform: scale(0.9);}
      100% { transform: scale(1);}
    }

    /* ---------- Buttons Animation ---------- */
    .animate-btn {
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .animate-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }
  </style>

  <script>
    // ---------- Generate Confetti ----------
    const confettiContainer = document.querySelector('.confetti');
    for (let i = 0; i < 150; i++) {
      const conf = document.createElement('span');
      conf.style.left = Math.random() * 100 + '%';
      conf.style.backgroundColor = `hsl(${Math.random()*360}, 70%, 60%)`;
      conf.style.width = conf.style.height = (5 + Math.random()*5) + 'px';
      conf.style.animationDelay = (Math.random() * 3) + 's';
      conf.style.animationDuration = (2 + Math.random()*3) + 's';
      conf.style.top = '-' + Math.random()*20 + 'px';
      conf.style.opacity = Math.random();
      conf.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
      confettiContainer.appendChild(conf);
    }
  </script>
</section>
</html>
